(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){"use strict";e.defineMode("julia",function(e,t){function r(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}function b(e){var t=w(e);if(t=="["||t=="{"){return true}else{return false}}function w(e){if(e.scopes.length==0){return null}return e.scopes[e.scopes.length-1]}function E(e,t){var r=t.leaving_expr;if(e.sol()){r=false}t.leaving_expr=false;if(r){if(e.match(/^'+/)){return"operator"}}if(e.match(/^\.{2,3}/)){return"operator"}if(e.eatSpace()){return null}var u=e.peek();if(u==="#"){e.skipToEnd();return"comment"}if(u==="["){t.scopes.push("[")}if(u==="{"){t.scopes.push("{")}var a=w(t);if(a==="["&&u==="]"){t.scopes.pop();t.leaving_expr=true}if(a==="{"&&u==="}"){t.scopes.pop();t.leaving_expr=true}if(u===")"){t.leaving_expr=true}var f;if(!b(t)&&(f=e.match(d,false))){t.scopes.push(f)}if(!b(t)&&e.match(v,false)){t.scopes.pop()}if(b(t)){if(e.match(/^end/)){return"number"}}if(e.match(/^=>/)){return"operator"}if(e.match(/^[0-9\.]/,false)){var l=RegExp(/^im\b/);var y=false;if(e.match(/^\d*\.(?!\.)\d+([ef][\+\-]?\d+)?/i)){y=true}if(e.match(/^\d+\.(?!\.)\d*/)){y=true}if(e.match(/^\.\d+/)){y=true}if(y){e.match(l);t.leaving_expr=true;return"number"}var E=false;if(e.match(/^0x[0-9a-f]+/i)){E=true}if(e.match(/^0b[01]+/i)){E=true}if(e.match(/^0o[0-7]+/i)){E=true}if(e.match(/^[1-9]\d*(e[\+\-]?\d+)?/)){E=true}if(e.match(/^0(?![\dx])/i)){E=true}if(E){e.match(l);t.leaving_expr=true;return"number"}}if(e.match(/^(::)|(<:)/)){return"operator"}if(!r&&e.match(g)){return"string"}if(e.match(i)){return"operator"}if(e.match(c)){t.tokenize=S(e.current());return t.tokenize(e,t)}if(e.match(m)){return"meta"}if(e.match(s)){return null}if(e.match(h)){return"keyword"}if(e.match(p)){return"builtin"}if(e.match(o)){t.leaving_expr=true;return"variable"}e.next();return n}function S(e){function s(s,o){while(!s.eol()){s.eatWhile(/[^'"\\]/);if(s.eat("\\")){s.next();if(r&&s.eol()){return i}}else if(s.match(e)){o.tokenize=E;return i}else{s.eat(/['"]/)}}if(r){if(t.singleLineStringErrors){return n}else{o.tokenize=E}}return i}while("rub".indexOf(e.charAt(0).toLowerCase())>=0){e=e.substr(1)}var r=e.length==1;var i="string";s.isString=true;return s}function x(e,t){y=null;var r=t.tokenize(e,t);var i=e.current();if(i==="."){r=e.match(o,false)?null:n;if(r===null&&t.lastStyle==="meta"){r="meta"}return r}return r}var n="error";var i=t.operators||/^\.?[|&^\\%*+\-<>!=\/]=?|\?|~|:|\$|\.[<>]|<<=?|>>>?=?|\.[<>=]=|->?|\/\/|\bin\b/;var s=t.delimiters||/^[;,()[\]{}]/;var o=t.identifiers||/^[_A-Za-z][_A-Za-z0-9]*!*/;var u=["begin","function","type","immutable","let","macro","for","while","quote","if","else","elseif","try","finally","catch","do"];var a=["end","else","elseif","catch","finally"];var f=["if","else","elseif","while","for","begin","let","end","do","try","catch","finally","return","break","continue","global","local","const","export","import","importall","using","function","macro","module","baremodule","type","immutable","quote","typealias","abstract","bitstype","ccall"];var l=["true","false","enumerate","open","close","nothing","NaN","Inf","print","println","Int","Int8","Uint8","Int16","Uint16","Int32","Uint32","Int64","Uint64","Int128","Uint128","Bool","Char","Float16","Float32","Float64","Array","Vector","Matrix","String","UTF8String","ASCIIString","error","warn","info","@printf"];var c=/^(`|'|"{3}|([br]?"))/;var h=r(f);var p=r(l);var d=r(u);var v=r(a);var m=/^@[_A-Za-z][_A-Za-z0-9]*/;var g=/^:[_A-Za-z][_A-Za-z0-9]*/;var y=null;var T={startState:function(){return{tokenize:E,scopes:[],leaving_expr:false}},token:function(e,t){var n=x(e,t);t.lastStyle=n;return n},indent:function(e,t){var n=0;if(t=="end"||t=="]"||t=="}"||t=="else"||t=="elseif"||t=="catch"||t=="finally"){n=-1}return(e.scopes.length+n)*4},lineComment:"#",fold:"indent",electricChars:"edlsifyh]}"};return T});e.defineMIME("text/x-julia","julia")})