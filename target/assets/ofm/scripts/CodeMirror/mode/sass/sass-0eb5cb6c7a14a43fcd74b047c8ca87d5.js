(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){"use strict";e.defineMode("sass",function(e){var t=function(e){return new RegExp("^"+e.join("|"))};var n=["true","false","null","auto"];var r=new RegExp("^"+n.join("|"));var i=["\\(","\\)","=",">","<","==",">=","<=","\\+","-","\\!=","/","\\*","%","and","or","not"];var s=t(i);var o=/^::?[\w\-]+/;var u=function(e,t){var n=e.peek();if(n===")"){e.next();t.tokenizer=p;return"operator"}else if(n==="("){e.next();e.eatSpace();return"operator"}else if(n==="'"||n==='"'){t.tokenizer=f(e.next());return"string"}else{t.tokenizer=f(")",false);return"string"}};var a=function(e,t){if(e.skipTo("*/")){e.next();e.next();t.tokenizer=p}else{e.next()}return"comment"};var f=function(e,t){function n(r,i){var s=r.next();var o=r.peek();var u=r.string.charAt(r.pos-2);var a=s!=="\\"&&o===e||s===e&&u!=="\\";if(a){if(s!==e&&t){r.next()}i.tokenizer=p;return"string"}else if(s==="#"&&o==="{"){i.tokenizer=l(n);r.next();return"operator"}else{return"string"}}if(t==null){t=true}return n};var l=function(e){return function(t,n){if(t.peek()==="}"){t.next();n.tokenizer=e;return"operator"}else{return p(t,n)}}};var c=function(t){if(t.indentCount==0){t.indentCount++;var n=t.scopes[0].offset;var r=n+e.indentUnit;t.scopes.unshift({offset:r})}};var h=function(e){if(e.scopes.length==1){return}e.scopes.shift()};var p=function(e,t){var n=e.peek();if(e.match("//")){e.skipToEnd();return"comment"}if(e.match("/*")){t.tokenizer=a;return t.tokenizer(e,t)}if(e.match("#{")){t.tokenizer=l(p);return"operator"}if(n==="."){e.next();if(e.match(/^[\w-]+/)){c(t);return"atom"}else if(e.peek()==="#"){c(t);return"atom"}else{return"operator"}}if(n==="#"){e.next();if(e.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/)){return"number"}if(e.match(/^[\w-]+/)){c(t);return"atom"}if(e.peek()==="#"){c(t);return"atom"}}if(e.match(/^-?[0-9\.]+/)){return"number"}if(e.match(/^(px|em|in)\b/)){return"unit"}if(e.match(r)){return"keyword"}if(e.match(/^url/)&&e.peek()==="("){t.tokenizer=u;return"atom"}if(n==="$"){e.next();e.eatWhile(/[\w-]/);if(e.peek()===":"){e.next();return"variable-2"}else{return"variable-3"}}if(n==="!"){e.next();if(e.match(/^[\w]+/)){return"keyword"}return"operator"}if(n==="="){e.next();if(e.match(/^[\w-]+/)){c(t);return"meta"}else{return"operator"}}if(n==="+"){e.next();if(e.match(/^[\w-]+/)){return"variable-3"}else{return"operator"}}if(e.match(/^@(else if|if|media|else|for|each|while|mixin|function)/)){c(t);return"meta"}if(n==="@"){e.next();e.eatWhile(/[\w-]/);return"meta"}if(n==='"'||n==="'"){e.next();t.tokenizer=f(n);return"string"}if(n==":"&&e.match(o)){return"keyword"}if(e.eatWhile(/[\w-&]/)){if(e.peek()===":"&&!e.match(o,false))return"property";else return"atom"}if(e.match(s)){return"operator"}e.next();return null};var d=function(t,n){if(t.sol()){n.indentCount=0}var r=n.tokenizer(t,n);var i=t.current();if(i==="@return"){h(n)}if(r==="atom"){c(n)}if(r!==null){var s=t.pos-i.length;var o=s+e.indentUnit*n.indentCount;var u=[];for(var a=0;a<n.scopes.length;a++){var f=n.scopes[a];if(f.offset<=o){u.push(f)}}n.scopes=u}return r};return{startState:function(){return{tokenizer:p,scopes:[{offset:0,type:"sass"}],definedVars:[],definedMixins:[]}},token:function(e,t){var n=d(e,t);t.lastToken={style:n,content:e.current()};return n},indent:function(e){return e.scopes[0].offset}}});e.defineMIME("text/x-sass","sass")})