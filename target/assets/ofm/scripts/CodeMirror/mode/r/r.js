(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){"use strict";e.defineMode("r",function(e){function t(e){var t=e.split(" "),n={};for(var r=0;r<t.length;++r)n[t[r]]=true;return n}function a(e,t){u=null;var a=e.next();if(a=="#"){e.skipToEnd();return"comment"}else if(a=="0"&&e.eat("x")){e.eatWhile(/[\da-f]/i);return"number"}else if(a=="."&&e.eat(/\d/)){e.match(/\d*(?:e[+\-]?\d+)?/);return"number"}else if(/\d/.test(a)){e.match(/\d*(?:\.\d+)?(?:e[+\-]\d+)?L?/);return"number"}else if(a=="'"||a=='"'){t.tokenize=f(a);return"string"}else if(a=="."&&e.match(/.[.\d]+/)){return"keyword"}else if(/[\w\.]/.test(a)&&a!="_"){e.eatWhile(/[\w\.]/);var l=e.current();if(n.propertyIsEnumerable(l))return"atom";if(i.propertyIsEnumerable(l)){if(s.propertyIsEnumerable(l)&&!e.match(/\s*if(\s+|$)/,false))u="block";return"keyword"}if(r.propertyIsEnumerable(l))return"builtin";return"variable"}else if(a=="%"){if(e.skipTo("%"))e.next();return"variable-2"}else if(a=="<"&&e.eat("-")){return"arrow"}else if(a=="="&&t.ctx.argList){return"arg-is"}else if(o.test(a)){if(a=="$")return"dollar";e.eatWhile(o);return"operator"}else if(/[\(\){}\[\];]/.test(a)){u=a;if(a==";")return"semi";return null}else{return null}}function f(e){return function(t,n){if(t.eat("\\")){var r=t.next();if(r=="x")t.match(/^[a-f0-9]{2}/i);else if((r=="u"||r=="U")&&t.eat("{")&&t.skipTo("}"))t.next();else if(r=="u")t.match(/^[a-f0-9]{4}/i);else if(r=="U")t.match(/^[a-f0-9]{8}/i);else if(/[0-7]/.test(r))t.match(/^[0-7]{1,2}/);return"string-2"}else{var i;while((i=t.next())!=null){if(i==e){n.tokenize=a;break}if(i=="\\"){t.backUp(1);break}}return"string"}}}function l(e,t,n){e.ctx={type:t,indent:e.indent,align:null,column:n.column(),prev:e.ctx}}function c(e){e.indent=e.ctx.indent;e.ctx=e.ctx.prev}var n=t("NULL NA Inf NaN NA_integer_ NA_real_ NA_complex_ NA_character_");var r=t("list quote bquote eval return call parse deparse");var i=t("if else repeat while function for in next break");var s=t("if else repeat while function for");var o=/[+\-*\/^<>=!&|~$:]/;var u;return{startState:function(){return{tokenize:a,ctx:{type:"top",indent:-e.indentUnit,align:false},indent:0,afterIdent:false}},token:function(e,t){if(e.sol()){if(t.ctx.align==null)t.ctx.align=false;t.indent=e.indentation()}if(e.eatSpace())return null;var n=t.tokenize(e,t);if(n!="comment"&&t.ctx.align==null)t.ctx.align=true;var r=t.ctx.type;if((u==";"||u=="{"||u=="}")&&r=="block")c(t);if(u=="{")l(t,"}",e);else if(u=="("){l(t,")",e);if(t.afterIdent)t.ctx.argList=true}else if(u=="[")l(t,"]",e);else if(u=="block")l(t,"block",e);else if(u==r)c(t);t.afterIdent=n=="variable"||n=="keyword";return n},indent:function(t,n){if(t.tokenize!=a)return 0;var r=n&&n.charAt(0),i=t.ctx,s=r==i.type;if(i.type=="block")return i.indent+(r=="{"?0:e.indentUnit);else if(i.align)return i.column+(s?0:1);else return i.indent+(s?0:e.indentUnit)}}});e.defineMIME("text/x-rsrc","r")})