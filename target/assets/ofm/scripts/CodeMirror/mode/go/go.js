(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){"use strict";e.defineMode("go",function(e){function o(e,t){var o=e.next();if(o=='"'||o=="'"||o=="`"){t.tokenize=u(o);return t.tokenize(e,t)}if(/[\d\.]/.test(o)){if(o=="."){e.match(/^[0-9]+([eE][\-+]?[0-9]+)?/)}else if(o=="0"){e.match(/^[xX][0-9a-fA-F]+/)||e.match(/^0[0-7]+/)}else{e.match(/^[0-9]*\.?[0-9]*([eE][\-+]?[0-9]+)?/)}return"number"}if(/[\[\]{}\(\),;\:\.]/.test(o)){s=o;return null}if(o=="/"){if(e.eat("*")){t.tokenize=a;return a(e,t)}if(e.eat("/")){e.skipToEnd();return"comment"}}if(i.test(o)){e.eatWhile(i);return"operator"}e.eatWhile(/[\w\$_]/);var f=e.current();if(n.propertyIsEnumerable(f)){if(f=="case"||f=="default")s="case";return"keyword"}if(r.propertyIsEnumerable(f))return"atom";return"variable"}function u(e){return function(t,n){var r=false,i,s=false;while((i=t.next())!=null){if(i==e&&!r){s=true;break}r=!r&&i=="\\"}if(s||!(r||e=="`"))n.tokenize=o;return"string"}}function a(e,t){var n=false,r;while(r=e.next()){if(r=="/"&&n){t.tokenize=o;break}n=r=="*"}return"comment"}function f(e,t,n,r,i){this.indented=e;this.column=t;this.type=n;this.align=r;this.prev=i}function l(e,t,n){return e.context=new f(e.indented,t,n,null,e.context)}function c(e){var t=e.context.type;if(t==")"||t=="]"||t=="}")e.indented=e.context.indented;return e.context=e.context.prev}var t=e.indentUnit;var n={"break":true,"case":true,chan:true,"const":true,"continue":true,"default":true,defer:true,"else":true,fallthrough:true,"for":true,func:true,go:true,"goto":true,"if":true,"import":true,"interface":true,map:true,"package":true,range:true,"return":true,select:true,struct:true,"switch":true,type:true,"var":true,bool:true,"byte":true,complex64:true,complex128:true,float32:true,float64:true,int8:true,int16:true,int32:true,int64:true,string:true,uint8:true,uint16:true,uint32:true,uint64:true,"int":true,uint:true,uintptr:true};var r={"true":true,"false":true,iota:true,nil:true,append:true,cap:true,close:true,complex:true,copy:true,imag:true,len:true,make:true,"new":true,panic:true,print:true,println:true,real:true,recover:true};var i=/[+\-*&^%:=<>!|\/]/;var s;return{startState:function(e){return{tokenize:null,context:new f((e||0)-t,0,"top",false),indented:0,startOfLine:true}},token:function(e,t){var n=t.context;if(e.sol()){if(n.align==null)n.align=false;t.indented=e.indentation();t.startOfLine=true;if(n.type=="case")n.type="}"}if(e.eatSpace())return null;s=null;var r=(t.tokenize||o)(e,t);if(r=="comment")return r;if(n.align==null)n.align=true;if(s=="{")l(t,e.column(),"}");else if(s=="[")l(t,e.column(),"]");else if(s=="(")l(t,e.column(),")");else if(s=="case")n.type="case";else if(s=="}"&&n.type=="}")n=c(t);else if(s==n.type)c(t);t.startOfLine=false;return r},indent:function(e,n){if(e.tokenize!=o&&e.tokenize!=null)return 0;var r=e.context,i=n&&n.charAt(0);if(r.type=="case"&&/^(?:case|default)\b/.test(n)){e.context.type="}";return r.indented}var s=i==r.type;if(r.align)return r.column+(s?0:1);else return r.indented+(s?0:t)},electricChars:"{}):",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}});e.defineMIME("text/x-go","go")})