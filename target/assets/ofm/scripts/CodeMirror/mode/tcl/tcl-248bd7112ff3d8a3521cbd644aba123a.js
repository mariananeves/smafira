(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){"use strict";e.defineMode("tcl",function(){function e(e){var t={},n=e.split(" ");for(var r=0;r<n.length;++r)t[n[r]]=true;return t}function i(e,t,n){t.tokenize=n;return n(e,t)}function s(e,s){var f=s.beforeParams;s.beforeParams=false;var l=e.next();if((l=='"'||l=="'")&&s.inParams)return i(e,s,o(l));else if(/[\[\]{}\(\),;\.]/.test(l)){if(l=="("&&f)s.inParams=true;else if(l==")")s.inParams=false;return null}else if(/\d/.test(l)){e.eatWhile(/[\w\.]/);return"number"}else if(l=="#"&&e.eat("*")){return i(e,s,u)}else if(l=="#"&&e.match(/ *\[ *\[/)){return i(e,s,a)}else if(l=="#"&&e.eat("#")){e.skipToEnd();return"comment"}else if(l=='"'){e.skipTo(/"/);return"comment"}else if(l=="$"){e.eatWhile(/[$_a-z0-9A-Z\.{:]/);e.eatWhile(/}/);s.beforeParams=true;return"builtin"}else if(r.test(l)){e.eatWhile(r);return"comment"}else{e.eatWhile(/[\w\$_{}]/);var c=e.current().toLowerCase();if(t&&t.propertyIsEnumerable(c))return"keyword";if(n&&n.propertyIsEnumerable(c)){s.beforeParams=true;return"keyword"}return null}}function o(e){return function(t,n){var r=false,i,o=false;while((i=t.next())!=null){if(i==e&&!r){o=true;break}r=!r&&i=="\\"}if(o)n.tokenize=s;return"string"}}function u(e,t){var n=false,r;while(r=e.next()){if(r=="#"&&n){t.tokenize=s;break}n=r=="*"}return"comment"}function a(e,t){var n=0,r;while(r=e.next()){if(r=="#"&&n==2){t.tokenize=s;break}if(r=="]")n++;else if(r!=" ")n=0}return"meta"}var t=e("Tcl safe after append array auto_execok auto_import auto_load "+"auto_mkindex auto_mkindex_old auto_qualify auto_reset bgerror "+"binary break catch cd close concat continue dde eof encoding error "+"eval exec exit expr fblocked fconfigure fcopy file fileevent filename "+"filename flush for foreach format gets glob global history http if "+"incr info interp join lappend lindex linsert list llength load lrange "+"lreplace lsearch lset lsort memory msgcat namespace open package parray "+"pid pkg::create pkg_mkIndex proc puts pwd re_syntax read regex regexp "+"registry regsub rename resource return scan seek set socket source split "+"string subst switch tcl_endOfWord tcl_findLibrary tcl_startOfNextWord "+"tcl_wordBreakAfter tcl_startOfPreviousWord tcl_wordBreakBefore tcltest "+"tclvars tell time trace unknown unset update uplevel upvar variable "+"vwait");var n=e("if elseif else and not or eq ne in ni for foreach while switch");var r=/[+\-*&%=<>!?^\/\|]/;return{startState:function(){return{tokenize:s,beforeParams:false,inParams:false}},token:function(e,t){if(e.eatSpace())return null;return t.tokenize(e,t)}}});e.defineMIME("text/x-tcl","tcl")})