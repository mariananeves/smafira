(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){"use strict";e.defineMode("javascript",function(t,n){function c(e){var t=false,n,r=false;while((n=e.next())!=null){if(!t){if(n=="/"&&!r)return;if(n=="[")r=true;else if(r&&n=="]")r=false}t=!t&&n=="\\"}}function d(e,t,n){h=e;p=n;return t}function v(e,t){var n=e.next();if(n=='"'||n=="'"){t.tokenize=m(n);return t.tokenize(e,t)}else if(n=="."&&e.match(/^\d+(?:[eE][+\-]?\d+)?/)){return d("number","number")}else if(n=="."&&e.match("..")){return d("spread","meta")}else if(/[\[\]{}\(\),;\:\.]/.test(n)){return d(n)}else if(n=="="&&e.eat(">")){return d("=>","operator")}else if(n=="0"&&e.eat(/x/i)){e.eatWhile(/[\da-f]/i);return d("number","number")}else if(/\d/.test(n)){e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return d("number","number")}else if(n=="/"){if(e.eat("*")){t.tokenize=g;return g(e,t)}else if(e.eat("/")){e.skipToEnd();return d("comment","comment")}else if(t.lastType=="operator"||t.lastType=="keyword c"||t.lastType=="sof"||/^[\[{}\(,;:]$/.test(t.lastType)){c(e);e.eatWhile(/[gimy]/);return d("regexp","string-2")}else{e.eatWhile(f);return d("operator","operator",e.current())}}else if(n=="`"){t.tokenize=y;return y(e,t)}else if(n=="#"){e.skipToEnd();return d("error","error")}else if(f.test(n)){e.eatWhile(f);return d("operator","operator",e.current())}else{e.eatWhile(/[\w\$_]/);var r=e.current(),i=a.propertyIsEnumerable(r)&&a[r];return i&&t.lastType!="."?d(i.type,i.style,r):d("variable","variable",r)}}function m(e){return function(t,n){var r=false,i;if(s&&t.peek()=="@"&&t.match(l)){n.tokenize=v;return d("jsonld-keyword","meta")}while((i=t.next())!=null){if(i==e&&!r)break;r=!r&&i=="\\"}if(!r)n.tokenize=v;return d("string","string")}}function g(e,t){var n=false,r;while(r=e.next()){if(r=="/"&&n){t.tokenize=v;break}n=r=="*"}return d("comment","comment")}function y(e,t){var n=false,r;while((r=e.next())!=null){if(!n&&(r=="`"||r=="$"&&e.eat("{"))){t.tokenize=v;break}n=!n&&r=="\\"}return d("quasi","string-2",e.current())}function w(e,t){if(t.fatArrowAt)t.fatArrowAt=null;var n=e.string.indexOf("=>",e.start);if(n<0)return;var r=0,i=false;for(var s=n-1;s>=0;--s){var o=e.string.charAt(s);var u=b.indexOf(o);if(u>=0&&u<3){if(!r){++s;break}if(--r==0)break}else if(u>=3&&u<6){++r}else if(/[$\w]/.test(o)){i=true}else if(i&&!r){++s;break}}if(i&&!r)t.fatArrowAt=s}function S(e,t,n,r,i,s){this.indented=e;this.column=t;this.type=n;this.prev=i;this.info=s;if(r!=null)this.align=r}function x(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return true;for(var r=e.context;r;r=r.prev){for(var n=r.vars;n;n=n.next)if(n.name==t)return true}}function T(e,t,n,r,i){var s=e.cc;N.state=e;N.stream=i;N.marked=null,N.cc=s;if(!e.lexical.hasOwnProperty("align"))e.lexical.align=true;while(true){var u=s.length?s.pop():o?B:H;if(u(n,r)){while(s.length&&s[s.length-1].lex)s.pop()();if(N.marked)return N.marked;if(n=="variable"&&x(e,r))return"variable-2";return t}}}function C(){for(var e=arguments.length-1;e>=0;e--)N.cc.push(arguments[e])}function k(){C.apply(null,arguments);return true}function L(e){function t(t){for(var n=t;n;n=n.next)if(n.name==e)return true;return false}var r=N.state;if(r.context){N.marked="def";if(t(r.localVars))return;r.localVars={name:e,next:r.localVars}}else{if(t(r.globalVars))return;if(n.globalVars)r.globalVars={name:e,next:r.globalVars}}}function O(){N.state.context={prev:N.state.context,vars:N.state.localVars};N.state.localVars=A}function M(){N.state.localVars=N.state.context.vars;N.state.context=N.state.context.prev}function _(e,t){var n=function(){var n=N.state,r=n.indented;if(n.lexical.type=="stat")r=n.lexical.indented;n.lexical=new S(r,N.stream.column(),e,null,n.lexical,t)};n.lex=true;return n}function D(){var e=N.state;if(e.lexical.prev){if(e.lexical.type==")")e.indented=e.lexical.indented;e.lexical=e.lexical.prev}}function P(e){function t(n){if(n==e)return k();else if(e==";")return C();else return k(t)}return t}function H(e,t){if(e=="var")return k(_("vardef",t.length),rt,P(";"),D);if(e=="keyword a")return k(_("form"),B,H,D);if(e=="keyword b")return k(_("form"),H,D);if(e=="{")return k(_("}"),et,D);if(e==";")return k();if(e=="if")return k(_("form"),B,H,D,at);if(e=="function")return k(dt);if(e=="for")return k(_("form"),ft,H,D);if(e=="variable")return k(_("stat"),$);if(e=="switch")return k(_("form"),B,_("}","switch"),P("{"),et,D,D);if(e=="case")return k(B,P(":"));if(e=="default")return k(P(":"));if(e=="catch")return k(_("form"),O,P("("),vt,P(")"),H,D,M);if(e=="module")return k(_("form"),O,bt,M,D);if(e=="class")return k(_("form"),mt,yt,D);if(e=="export")return k(_("form"),wt,D);if(e=="import")return k(_("form"),Et,D);return C(_("stat"),B,P(";"),D)}function B(e){return F(e,false)}function j(e){return F(e,true)}function F(e,t){if(N.state.fatArrowAt==N.stream.start){var n=t?V:X;if(e=="(")return k(O,_(")"),Y(it,")"),D,P("=>"),n,M);else if(e=="variable")return C(O,it,P("=>"),n,M)}var r=t?U:R;if(E.hasOwnProperty(e))return k(r);if(e=="function")return k(dt,r);if(e=="keyword c")return k(t?q:I);if(e=="(")return k(_(")"),I,Ct,P(")"),D,r);if(e=="operator"||e=="spread")return k(t?j:B);if(e=="[")return k(_("]"),Tt,D,r);if(e=="{")return Z(K,"}",null,r);return k()}function I(e){if(e.match(/[;\}\)\],]/))return C();return C(B)}function q(e){if(e.match(/[;\}\)\],]/))return C();return C(j)}function R(e,t){if(e==",")return k(B);return U(e,t,false)}function U(e,t,n){var r=n==false?R:U;var i=n==false?B:j;if(t=="=>")return k(O,n?V:X,M);if(e=="operator"){if(/\+\+|--/.test(t))return k(r);if(t=="?")return k(B,P(":"),i);return k(i)}if(e=="quasi"){N.cc.push(r);return z(t)}if(e==";")return;if(e=="(")return Z(j,")","call",r);if(e==".")return k(J,r);if(e=="[")return k(_("]"),I,P("]"),D,r)}function z(e){if(e.slice(e.length-2)!="${")return k();return k(B,W)}function W(e){if(e=="}"){N.marked="string-2";N.state.tokenize=y;return k()}}function X(e){w(N.stream,N.state);if(e=="{")return C(H);return C(B)}function V(e){w(N.stream,N.state);if(e=="{")return C(H);return C(j)}function $(e){if(e==":")return k(D,H);return C(R,P(";"),D)}function J(e){if(e=="variable"){N.marked="property";return k()}}function K(e,t){if(e=="variable"){N.marked="property";if(t=="get"||t=="set")return k(Q)}else if(e=="number"||e=="string"){N.marked=s?"property":e+" property"}else if(e=="["){return k(B,P("]"),G)}if(E.hasOwnProperty(e))return k(G)}function Q(e){if(e!="variable")return C(G);N.marked="property";return k(dt)}function G(e){if(e==":")return k(j);if(e=="(")return C(dt)}function Y(e,t){function n(r){if(r==","){var i=N.state.lexical;if(i.info=="call")i.pos=(i.pos||0)+1;return k(e,n)}if(r==t)return k();return k(P(t))}return function(r){if(r==t)return k();return C(e,n)}}function Z(e,t,n){for(var r=3;r<arguments.length;r++)N.cc.push(arguments[r]);return k(_(t,n),Y(e,t),D)}function et(e){if(e=="}")return k();return C(H,et)}function tt(e){if(u&&e==":")return k(nt)}function nt(e){if(e=="variable"){N.marked="variable-3";return k()}}function rt(){return C(it,tt,ot,ut)}function it(e,t){if(e=="variable"){L(t);return k()}if(e=="[")return Z(it,"]");if(e=="{")return Z(st,"}")}function st(e,t){if(e=="variable"&&!N.stream.match(/^\s*:/,false)){L(t);return k(ot)}if(e=="variable")N.marked="property";return k(P(":"),it,ot)}function ot(e,t){if(t=="=")return k(j)}function ut(e){if(e==",")return k(rt)}function at(e,t){if(e=="keyword b"&&t=="else")return k(_("form"),H,D)}function ft(e){if(e=="(")return k(_(")"),lt,P(")"),D)}function lt(e){if(e=="var")return k(rt,P(";"),ht);if(e==";")return k(ht);if(e=="variable")return k(ct);return C(B,P(";"),ht)}function ct(e,t){if(t=="in"||t=="of"){N.marked="keyword";return k(B)}return k(R,ht)}function ht(e,t){if(e==";")return k(pt);if(t=="in"||t=="of"){N.marked="keyword";return k(B)}return C(B,P(";"),pt)}function pt(e){if(e!=")")k(B)}function dt(e,t){if(t=="*"){N.marked="keyword";return k(dt)}if(e=="variable"){L(t);return k(dt)}if(e=="(")return k(O,_(")"),Y(vt,")"),D,H,M)}function vt(e){if(e=="spread")return k(vt);return C(it,tt)}function mt(e,t){if(e=="variable"){L(t);return k(gt)}}function gt(e,t){if(t=="extends")return k(B)}function yt(e){if(e=="{")return Z(K,"}")}function bt(e,t){if(e=="string")return k(H);if(e=="variable"){L(t);return k(xt)}}function wt(e,t){if(t=="*"){N.marked="keyword";return k(xt,P(";"))}if(t=="default"){N.marked="keyword";return k(B,P(";"))}return C(H)}function Et(e){if(e=="string")return k();return C(St,xt)}function St(e,t){if(e=="{")return Z(St,"}");if(e=="variable")L(t);return k()}function xt(e,t){if(t=="from"){N.marked="keyword";return k(B)}}function Tt(e){if(e=="]")return k();return C(j,Nt)}function Nt(e){if(e=="for")return C(Ct,P("]"));if(e==",")return k(Y(j,"]"));return C(Y(j,"]"))}function Ct(e){if(e=="for")return k(ft,Ct);if(e=="if")return k(B,Ct)}var r=t.indentUnit;var i=n.statementIndent;var s=n.jsonld;var o=n.json||s;var u=n.typescript;var a=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c");var i=e("operator"),s={type:"atom",style:"atom"};var o={"if":e("if"),"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":r,"break":r,"continue":r,"new":r,"delete":r,"throw":r,"debugger":r,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":i,"typeof":i,"instanceof":i,"true":s,"false":s,"null":s,"undefined":s,NaN:s,Infinity:s,"this":e("this"),module:e("module"),"class":e("class"),"super":e("atom"),yield:r,"export":e("export"),"import":e("import"),"extends":r};if(u){var a={type:"variable",style:"variable-3"};var f={"interface":e("interface"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),string:a,number:a,bool:a,any:a};for(var l in f){o[l]=f[l]}}return o}();var f=/[+\-*&%=<>!?|~^]/;var l=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;var h,p;var b="([{}])";var E={atom:true,number:true,variable:true,string:true,regexp:true,"this":true,"jsonld-keyword":true};var N={state:null,column:null,marked:null,cc:null};var A={name:"this",next:{name:"arguments"}};D.lex=true;return{startState:function(e){var t={tokenize:v,lastType:"sof",cc:[],lexical:new S((e||0)-r,0,"block",false),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:0};if(n.globalVars&&typeof n.globalVars=="object")t.globalVars=n.globalVars;return t},token:function(e,t){if(e.sol()){if(!t.lexical.hasOwnProperty("align"))t.lexical.align=false;t.indented=e.indentation();w(e,t)}if(t.tokenize!=g&&e.eatSpace())return null;var n=t.tokenize(e,t);if(h=="comment")return n;t.lastType=h=="operator"&&(p=="++"||p=="--")?"incdec":h;return T(t,n,h,p,e)},indent:function(t,s){if(t.tokenize==g)return e.Pass;if(t.tokenize!=v)return 0;var o=s&&s.charAt(0),u=t.lexical;for(var a=t.cc.length-1;a>=0;--a){var f=t.cc[a];if(f==D)u=u.prev;else if(f!=at)break}if(u.type=="stat"&&o=="}")u=u.prev;if(i&&u.type==")"&&u.prev.type=="stat")u=u.prev;var l=u.type,c=o==l;if(l=="vardef")return u.indented+(t.lastType=="operator"||t.lastType==","?u.info+1:0);else if(l=="form"&&o=="{")return u.indented;else if(l=="form")return u.indented+r;else if(l=="stat")return u.indented+(t.lastType=="operator"||t.lastType==","?i||r:0);else if(u.info=="switch"&&!c&&n.doubleIndentSwitch!=false)return u.indented+(/^(?:case|default)\b/.test(s)?r:2*r);else if(u.align)return u.column+(c?0:1);else return u.indented+(c?0:r)},electricChars:":{}",blockCommentStart:o?null:"/*",blockCommentEnd:o?null:"*/",lineComment:o?null:"//",fold:"brace",helperType:o?"json":"javascript",jsonldMode:s,jsonMode:o}});e.defineMIME("text/javascript","javascript");e.defineMIME("text/ecmascript","javascript");e.defineMIME("application/javascript","javascript");e.defineMIME("application/ecmascript","javascript");e.defineMIME("application/json",{name:"javascript",json:true});e.defineMIME("application/x-json",{name:"javascript",json:true});e.defineMIME("application/ld+json",{name:"javascript",jsonld:true});e.defineMIME("text/typescript",{name:"javascript",typescript:true});e.defineMIME("application/typescript",{name:"javascript",typescript:true})})