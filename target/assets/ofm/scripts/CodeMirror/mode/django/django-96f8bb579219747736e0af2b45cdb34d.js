(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../../addon/mode/overlay"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../htmlmixed/htmlmixed","../../addon/mode/overlay"],e);else e(CodeMirror)})(function(e){"use strict";e.defineMode("django:inner",function(){function t(e,t){e.eatWhile(/[^\{]/);var r=e.next();if(r=="{"){if(r=e.eat(/\{|%|#/)){t.tokenize=n(r);return"tag"}}}function n(n){if(n=="{"){n="}"}return function(r,i){var s=r.next();if(s==n&&r.eat("}")){i.tokenize=t;return"tag"}if(r.match(e)){return"keyword"}return n=="#"?"comment":"string"}}var e=["block","endblock","for","endfor","in","true","false","loop","none","self","super","if","endif","as","not","and","else","import","with","endwith","without","context","ifequal","endifequal","ifnotequal","endifnotequal","extends","include","load","length","comment","endcomment","empty"];e=new RegExp("^(("+e.join(")|(")+"))\\b");return{startState:function(){return{tokenize:t}},token:function(e,t){return t.tokenize(e,t)}}});e.defineMode("django",function(t){var n=e.getMode(t,"text/html");var r=e.getMode(t,"django:inner");return e.overlayMode(n,r)});e.defineMIME("text/x-django","django")})