(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){"use strict";function t(e){for(var t=e.display.lineSpace.childNodes.length-1;t>=0;t--){var n=e.display.lineSpace.childNodes[t];if(/(^|\s)CodeMirror-ruler($|\s)/.test(n.className))n.parentNode.removeChild(n)}}function n(t){var n=t.getOption("rulers");var r=t.defaultCharWidth();var i=t.charCoords(e.Pos(t.firstLine(),0),"div").left;var s=-t.display.scroller.offsetHeight;for(var o=0;o<n.length;o++){var u=document.createElement("div");var a,f=null;if(typeof n[o]=="number"){a=n[o]}else{a=n[o].column;f=n[o].className}u.className="CodeMirror-ruler"+(f?" "+f:"");u.style.cssText="left: "+(i+a*r)+"px; top: -50px; bottom: "+s+"px";t.display.lineSpace.insertBefore(u,t.display.cursorDiv)}}function r(e){t(e);n(e)}e.defineOption("rulers",false,function(i,s,o){if(o&&o!=e.Init){t(i);i.off("refresh",r)}if(s&&s.length){n(i);i.on("refresh",r)}})})