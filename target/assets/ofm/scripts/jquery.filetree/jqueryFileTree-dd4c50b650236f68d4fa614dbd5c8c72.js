if(jQuery)(function(e){e.extend(e.fn,{fileTree:function(t,n){if(!t)var t={};if(t.root==undefined)t.root="/";if(t.datafunc==undefined)t.datafunc=null;if(t.script==undefined)t.script="jqueryFileTree.php";if(t.folderEvent==undefined)t.folderEvent="click";if(t.expandSpeed==undefined)t.expandSpeed=500;if(t.collapseSpeed==undefined)t.collapseSpeed=500;if(t.expandEasing==undefined)t.expandEasing=null;if(t.collapseEasing==undefined)t.collapseEasing=null;if(t.multiFolder==undefined)t.multiFolder=true;if(t.loadMessage==undefined)t.loadMessage="Loading...";if(t.folderCallback==undefined)t.folderCallback=null;if(t.after==undefined)t.after=null;if(t.expandedFolder==undefined)t.expandedFolder="";e(this).each(function(){function r(n,s){function u(u){e(n).find(".start").html("");e(n).removeClass("wait").append(u);if(t.root==s)e(n).find("UL:hidden").show();else e(n).find("UL:hidden").slideDown({duration:t.expandSpeed,easing:t.expandEasing});i(n);if(t.expandedFolder!=null){e(n).find(".directory.collapsed").each(function(n,i){if(t.expandedFolder.match(e(i).children().attr("data-path"))){r(e(i),e(i).children().attr("data-path").match(/.*\//));e(i).removeClass("collapsed").addClass("expanded")}})}t.after(u)}e(n).addClass("wait");e(".jqueryFileTree.start").remove();if(t.datafunc)t.datafunc(s,u);else e.post(t.script,{dir:s},u)}function i(i){e(i).find("LI A").bind(t.folderEvent,function(){if(e(this).parent().hasClass("directory")){if(e(this).parent().hasClass("collapsed")){if(!t.multiFolder){e(this).parent().parent().find("UL").slideUp({duration:t.collapseSpeed,easing:t.collapseEasing});e(this).parent().parent().find("LI.directory").removeClass("expanded").addClass("collapsed")}e(this).parent().find("UL").remove();r(e(this).parent(),e(this).attr("data-path").match(/.*\//));e(this).parent().removeClass("collapsed").addClass("expanded")}else{e(this).parent().find("UL").slideUp({duration:t.collapseSpeed,easing:t.collapseEasing});e(this).parent().removeClass("expanded").addClass("collapsed")}t.folderCallback(e(this).attr("data-path"))}else{n(e(this).attr("data-path"))}return false});if(t.folderEvent.toLowerCase!="click")e(i).find("LI A").bind("click",function(){return false})}e(this).html('<ul class="jqueryFileTree start"><li class="wait">'+t.loadMessage+"<li></ul>");r(e(this),t.root)})}})})(jQuery)